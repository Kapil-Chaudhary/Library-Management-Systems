<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Library - Issue Book</title>
</head>
<body>
<h1>Issue a Book</h1>

<form th:action="@{/transactions/save}" th:object="${transaction}" method="post">

    <label for="user">User</label>
    <select id="user" th:field="*{user.id}" required>
        <option value="">Select a user</option> <!-- Placeholder option -->
        <option th:each="user : ${users}" th:value="${user.id}" th:text="${user.name}"></option>
    </select><br>

    <label for="book">Select Book</label>
    <select id="book" th:field="*{book.id}" required>
        <option value="">Select a book</option> <!-- Placeholder option -->
        <option th:each="book : ${books}" th:value="${book.id}" th:text="${book.name}"></option>
    </select><br> <!-- Dropdown of available books -->

    <label for="issueDate">Issue Date</label>
    <input id="issueDate" type="date" th:field="*{issueDate}" required><br> <!-- Automatically set to today's date -->

    <label for="returnDate">Return Date</label>
    <input id="returnDate" type="date" th:field="*{returnDate}" required><br> <!-- Date picker for return date -->

    <button type="submit">Issue Book</button>
</form>

</body>
</html>
